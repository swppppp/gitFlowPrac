<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ajax통신을 이용, calculator 비동기 구현</title>
<script type="text/javascript" src="js/ajax.js"></script>
<script type="text/javascript">
window.onload = function() {
	var eventSource = document.getElementById('result').onclick=function(){
		var num1=document.getElementsByName('num1')[0].value;
		var num2=document.getElementsByName('num2')[0].value;
		var op=document.getElementsByName('operator')[0].value;
		
		ajax({
			method:"get",
			url: "ajax.mall",
			param: "num1="+num1+"&num2="+num2+"&op="+op,
			callback: setResult
		});
	}
}

// 콜백함수가 될 것입니다.
function setResult(){
	var result = request.responseText;
	console.log("리절트:"+result);
	var span = document.getElementById('output');
	span.innerHTML = result;
}

</script>
</head>
<body>
  <input type="number" name="num1">
  <select name="operator">
    <option>+</option>
    <option>-</option>
    <option>*</option>
    <option>/</option>
  </select>
  <input type="number" name="num2">
  <span id="output"></span>
  <input type="button" id="result" value="결과보기">
</body>
</html>